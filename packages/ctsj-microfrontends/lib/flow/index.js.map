{"version":3,"file":"index.js","sources":["flow/index.js"],"sourcesContent":["import { dataFlowEmitter } from '../emit/emitter';\r\nimport { APP_DATAFLOW_CHANGE, DATAFLOW_CHANGE } from '../emit/actions';\r\n// 数据\r\nvar store;\r\n/**\r\n * onDataFlowChange\r\n * @param defaultStore\r\n */\r\nfunction onDataFlowChange(defaultStore) {\r\n    store = defaultStore;\r\n    // 发送数据流更改事件\r\n    dataFlowEmitter.trigger(DATAFLOW_CHANGE, store);\r\n}\r\nexport default {\r\n    /**\r\n     * getStore - 获取数据流数据\r\n     * @return any\r\n     */\r\n    getStore: function () {\r\n        return JSON.parse(JSON.stringify(store));\r\n    },\r\n    /**\r\n     * setStore - 设置数据流数据\r\n     * @param defaultStore\r\n     */\r\n    setStore: function (defaultStore) {\r\n        store = defaultStore;\r\n    },\r\n    /**\r\n     * subscribeFlowChange - 订阅客户端数据流更改事件\r\n     */\r\n    subscribeFlowChange: function () {\r\n        dataFlowEmitter.on(APP_DATAFLOW_CHANGE, onDataFlowChange);\r\n    },\r\n    /**\r\n     * unSubscribeFlowChange - 取消客户端订阅数据流更改事件\r\n     */\r\n    unSubscribeFlowChange: function () {\r\n        dataFlowEmitter.remove(APP_DATAFLOW_CHANGE, onDataFlowChange);\r\n    },\r\n    /**\r\n     * triggerFlowChange - 触发客户端数据流改变\r\n     * @param changeData\r\n     */\r\n    triggerFlowChange: function (changeData) {\r\n        dataFlowEmitter.trigger(APP_DATAFLOW_CHANGE, changeData);\r\n    },\r\n};\r\n"],"names":["dataFlowEmitter","APP_DATAFLOW_CHANGE","DATAFLOW_CHANGE","store","onDataFlowChange","defaultStore","trigger","getStore","JSON","parse","stringify","setStore","subscribeFlowChange","on","unSubscribeFlowChange","remove","triggerFlowChange","changeData"],"mappings":"OAASA,6CACAC,oBAAqBC,sCAE9B,IAAIC,MAKJ,SAASC,iBAAiBC,GACtBF,MAAQE,EAERL,gBAAgBM,QAAQJ,gBAAiBC,qBAE9B,CAKXI,SAAU,WACN,OAAOC,KAAKC,MAAMD,KAAKE,UAAUP,SAMrCQ,SAAU,SAAUN,GAChBF,MAAQE,GAKZO,oBAAqB,WACjBZ,gBAAgBa,GAAGZ,oBAAqBG,mBAK5CU,sBAAuB,WACnBd,gBAAgBe,OAAOd,oBAAqBG,mBAMhDY,kBAAmB,SAAUC,GACzBjB,gBAAgBM,QAAQL,oBAAqBgB"}