"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),react_dom_1=__importDefault(require("react-dom")),ReactApp=function(){function t(t){var e=t.component,n=t.el,r=t.props,o=t.config,t=t.refresh;this.ref=react_1.default.createRef(),this.ins=react_1.default.createRef(),this.Component=e,this.el=n,this.props=r,this.config=o,this.refresh=t}return t.prototype.ComponentHOC=function(){var t,e=this;return t=react_1.default.Component,__extends(n,t),n.prototype.componentDidMount=function(){console.log("ComponentHOC componentDidMount",e.ins)},n.prototype.render=function(){return react_1.default.createElement(e.Component,__assign({ref:e.ins},e.props,{config:e.config,refresh:e.refresh}))},n;function n(){return null!==t&&t.apply(this,arguments)||this}},t.prototype.mount=function(){var n=this;return new Promise(function(t){var e=n.ComponentHOC();react_dom_1.default.render(react_1.default.createElement(e,{ref:n.ref}),n.el,function(){t()})})},t.prototype.update=function(){var e=this;return new Promise(function(t){e.ref.current.forceUpdate(function(){t()})})},t.prototype.unmount=function(){return react_dom_1.default.unmountComponentAtNode(this.el)},t.prototype.getIns=function(){var t;return null===(t=null==this?void 0:this.ins)||void 0===t?void 0:t.current},t}();exports.default=ReactApp;
//# sourceMappingURL=reactAppFactory.js.map
